# Go
# Build your Go project.
# Add steps that test, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/go

trigger:
- master

pool: 'AWS'

steps:
- task: GoTool@0
  inputs:
    version: '1.14'
  displayName: INstall GO


- task: Go@0
  inputs:
    command: 'get'
    arguments: 'github.com/instana/go-sensor'
  displayName: INstall GO Dependecies Instana

- task: Go@0
  inputs:
    command: 'get'
    arguments: 'github.com/streadway/amqp'
  displayName: Install GO Dependencies Streadway

- task: Go@0
  inputs:
    command: 'get'
    arguments: 'golang.org/x/lint/golint'
  displayName: Install GO Dependencies Lint

- script: |
    ~/go/bin/golint src/main.go
  displayName: 'Go Lint'